<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link href="./style.css" type="text/css" rel="stylesheet" />
		<title>Day 28 - Video Speed Controller</title>
		<script type="text/javascript" src="https://www.cornify.com/js/cornify.js"></script>
	</head>
	<body>
		<h1>Video Speed Controller</h1>

		<div class="wrapper">
			<video class="flex" width="765" height="430" src="./652333414.mp4" loop controls></video>
			<div class="speed">
				<div class="speed-bar">1×</div>
			</div>
		</div>

		<script>
			const speed = document.querySelector('.speed')
			const bar = speed.querySelector('.speed-bar')
			const video = document.querySelector('.flex')

			function handleMove(e) {
				const y = e.pageY - this.offsetTop
				const percent = y / this.offsetHeight
				const min = 0.4
				const max = 4
				const height = Math.round(percent * 100) + '%'
				const playbackRate = percent * (max - min) + min
				bar.style.height = height
				bar.textContent = playbackRate.toFixed(2) + '×'
				video.playbackRate = playbackRate
			}

			speed.addEventListener('mousemove', handleMove)
		</script>
	</body>
</html>
